<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Planner Pro</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!-- Potresti aggiungere qui una libreria per .ics se vuoi implementare l'export calendario -->
    <!-- <script src="path/to/ics-generator.js"></script> -->
</head>
<body>
    <div class="app-container">
        <header>
            <h1><i class="fas fa-plane-departure"></i> Travel Planner Pro</h1>
        </header>

        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <h2><i class="fas fa-suitcase"></i> I Miei Viaggi</h2>
                 <!-- NUOVO: Ricerca Viaggi -->
                <div class="search-bar">
                    <input type="search" id="search-trip-input" placeholder="Cerca viaggio...">
                    <i class="fas fa-search"></i>
                </div>
                <div class="trip-list-controls">
                    <button id="new-trip-btn" class="btn btn-primary"><i class="fas fa-plus"></i> Nuovo</button>
                    <!-- NUOVO: Crea da Template -->
                    <button id="create-from-template-btn" class="btn btn-secondary"><i class="fas fa-paste"></i> Da Template</button>
                </div>
                <ul id="trip-list" class="trip-list"></ul>
                 <p id="no-trips-message" class="center-text muted" style="display: none;">Nessun viaggio.</p>
            </aside>

            <!-- Area Dettagli -->
            <main id="trip-details-area" class="trip-details-area" style="display: none;">
                <!-- Header Dettagli -->
                <div class="trip-header card">
                    <h2 id="trip-title">Dettagli Viaggio</h2>
                    <div class="trip-actions">
                        <button id="download-excel-btn" class="btn btn-success btn-sm" title="Scarica Excel" disabled><i class="fas fa-file-excel"></i> Excel</button>
                        <button id="download-text-btn" class="btn btn-secondary btn-sm" title="Scarica Testo" disabled><i class="fas fa-download"></i> Testo</button>
                        <button id="delete-trip-btn" class="btn btn-danger btn-sm" title="Elimina Viaggio" disabled><i class="fas fa-trash-alt"></i> Elimina</button>
                    </div>
                </div>

                <!-- Tabs -->
                <div class="tabs">
                    <button class="tab-link active" data-tab="info-tab"><i class="fas fa-info-circle"></i> Info</button>
                    <button class="tab-link" data-tab="participants-tab"><i class="fas fa-users"></i> Partecipanti</button>
                    <!-- NUOVO: Tab Promemoria -->
                    <button class="tab-link" data-tab="reminders-tab"><i class="fas fa-check-double"></i> Promemoria</button>
                    <button class="tab-link" data-tab="transport-tab"><i class="fas fa-plane"></i> Trasporti</button>
                    <button class="tab-link" data-tab="accommodation-tab"><i class="fas fa-bed"></i> Alloggio</button>
                    <button class="tab-link" data-tab="itinerary-tab"><i class="fas fa-route"></i> Itinerario</button>
                    <button class="tab-link" data-tab="budget-tab"><i class="fas fa-coins"></i> Budget</button>
                    <button class="tab-link" data-tab="packing-tab"><i class="fas fa-suitcase-rolling"></i> Packing List</button>
                </div>

                <!-- == CONTENUTO TABS == -->
                <!-- Tab: Info -->
                <div id="info-tab" class="tab-content card active">
                    <h3><i class="fas fa-info-circle"></i> Informazioni Generali</h3>
                    <form id="trip-info-form">
                        <input type="hidden" id="edit-trip-id">
                        <div class="form-row">
                             <div class="form-control"> <label for="trip-name">Nome Viaggio:</label> <input type="text" id="trip-name" required> </div>
                             <div class="form-control"> <label for="trip-origin-city">Città di Partenza:</label> <input type="text" id="trip-origin-city" placeholder="Es. Roma, Milano"> </div>
                        </div>
                         <div class="form-row">
                             <div class="form-control"> <label for="trip-destination">Destinazione Principale:</label> <input type="text" id="trip-destination" placeholder="Es. Grecia, New York"> </div>
                             <div class="form-control"> <label for="trip-start-date">Data Partenza Viaggio:</label> <input type="date" id="trip-start-date"> </div>
                         </div>
                        <div class="form-row">
                             <div class="form-control"> <label for="trip-end-date">Data Ritorno Viaggio:</label> <input type="date" id="trip-end-date"> </div>
                              <div class="form-control">
                                  <!-- NUOVO: Checkbox Template -->
                                  <label for="trip-is-template" class="checkbox-label">
                                    <input type="checkbox" id="trip-is-template"> È un template?
                                  </label>
                              </div>
                        </div>
                        <div class="form-control"> <label for="trip-notes">Note Generali:</label> <textarea id="trip-notes" rows="3"></textarea> </div>
                        <!-- NUOVO: Campo Extra Info -->
                        <div class="form-control"> <label for="trip-extra-info">Altre Info (contatti emergenza, link utili, ecc.):</label> <textarea id="trip-extra-info" rows="3"></textarea> </div>
                        <div class="form-actions"> <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Salva Info</button> </div>
                    </form>
                </div>
                <!-- Tab: Partecipanti -->
                <div id="participants-tab" class="tab-content card">
                    <h3><i class="fas fa-users"></i> Partecipanti</h3>
                     <form id="add-participant-form" class="add-item-form"> <input type="hidden" id="edit-participant-id"> <div class="form-row"> <div class="form-control"> <label for="participant-name">Nome Partecipante:</label> <input type="text" id="participant-name" required placeholder="Nome Cognome"> </div> <div class="form-control"> <label for="participant-notes">Note (Es. Email, Tel):</label> <input type="text" id="participant-notes" placeholder="Contatti, Allergie..."> </div> </div> <!-- NUOVO: Campo Extra Info --> <div class="form-control"> <label for="participant-extra-info">Info Aggiuntive:</label> <textarea id="participant-extra-info" rows="2"></textarea> </div> <div class="form-actions"> <button type="submit" id="participant-submit-btn" class="btn btn-secondary"><i class="fas fa-plus"></i> Partecipante</button> <button type="button" id="participant-cancel-edit-btn" class="btn btn-cancel" style="display: none;"><i class="fas fa-times"></i> Annulla</button> </div> </form>
                     <div class="item-list-container"> <h4>Lista Partecipanti:</h4> <ul id="participant-list" class="item-list"></ul> <p id="no-participants-items" class="center-text muted" style="display: none;">Nessun partecipante.</p> </div>
                </div>
                 <!-- NUOVO: Tab Promemoria -->
                <div id="reminders-tab" class="tab-content card">
                    <h3><i class="fas fa-check-double"></i> Promemoria / Da Fare</h3>
                    <form id="add-reminder-item-form" class="add-item-form">
                        <input type="hidden" id="edit-reminder-item-id">
                        <div class="form-control"> <label for="reminder-description">Descrizione:</label> <input type="text" id="reminder-description" required placeholder="Es. Fare Visto, Prenotare Museo X..."> </div>
                        <div class="form-row">
                            <div class="form-control"> <label for="reminder-due-date">Scadenza (opzionale):</label> <input type="date" id="reminder-due-date"> </div>
                            <div class="form-control"> <label for="reminder-status">Stato:</label> <select id="reminder-status"> <option value="todo">Da Fare</option> <option value="done">Fatto</option> </select> </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" id="reminder-submit-btn" class="btn btn-secondary"><i class="fas fa-plus"></i> Promemoria</button>
                            <button type="button" id="reminder-cancel-edit-btn" class="btn btn-cancel" style="display: none;"><i class="fas fa-times"></i> Annulla</button>
                            <!-- <button type="button" id="export-reminders-ics-btn" class="btn btn-outline btn-sm" title="Esporta come evento Calendario"><i class="fas fa-calendar-alt"></i> Esporta ICS (TBD)</button> -->
                        </div>
                    </form>
                    <div class="item-list-container">
                        <div class="list-header-actions">
                            <h4>Lista Promemoria:</h4>
                             <select id="reminder-sort-control" class="sort-control">
                                <option value="dueDate">Ordina per Scadenza</option>
                                <option value="description">Ordina per Descrizione</option>
                                <option value="status">Ordina per Stato</option>
                            </select>
                        </div>
                        <ul id="reminder-list" class="item-list"></ul>
                        <p id="no-reminder-items" class="center-text muted" style="display: none;">Nessun promemoria.</p>
                    </div>
                </div>
                <!-- Tab: Trasporti -->
                <div id="transport-tab" class="tab-content card">
                     <h3><i class="fas fa-plane"></i> Gestione Trasporti</h3>
                     <form id="add-transport-item-form" class="add-item-form"> <input type="hidden" id="edit-transport-item-id"> <div class="form-row"> <div class="form-control"> <label for="transport-type">Tipo:</label> <select id="transport-type" required> <option value="Volo">Volo</option> <option value="Treno">Treno</option> <option value="Auto">Auto</option> <option value="Bus">Bus</option> <option value="Traghetto">Traghetto/Nave</option> <option value="Metro/Mezzi Pubblici">Metro/Mezzi Pubblici</option> <option value="Taxi/Ride Sharing">Taxi/Ride Sharing</option> <option value="Altro">Altro</option> </select> </div> <div class="form-control"> <label for="transport-description">Descrizione Breve:</label> <input type="text" id="transport-description" placeholder="Es. Volo AZ123..." required> </div> </div> <div class="form-row"> <div class="form-control"> <label for="transport-departure-loc">Partenza (Aeroporto/Stazione/Città):</label> <input type="text" id="transport-departure-loc" placeholder="Es. FCO, Roma Termini"> </div> <div class="form-control"> <label for="transport-departure-datetime">Partenza (Data/Ora Esatta):</label> <input type="datetime-local" id="transport-departure-datetime"> </div> </div> <div class="form-row"> <div class="form-control"> <label for="transport-arrival-loc">Arrivo (Aeroporto/Stazione/Città):</label> <input type="text" id="transport-arrival-loc" placeholder="Es. ATH, Milano Centrale"> </div> <div class="form-control"> <label for="transport-arrival-datetime">Arrivo (Data/Ora Esatta):</label> <input type="datetime-local" id="transport-arrival-datetime"> </div> </div> <div class="form-row"> <div class="form-control"> <label for="transport-booking-ref">Rif. Prenotazione:</label> <input type="text" id="transport-booking-ref"> </div> <div class="form-control"> <label for="transport-cost">Costo (€, opzionale):</label> <input type="number" id="transport-cost" step="0.01" min="0" placeholder="0.00"> </div> </div> <div class="form-control"> <label for="transport-notes">Note Aggiuntive:</label> <input type="text" id="transport-notes"> </div> <!-- NUOVO: Campo Link/File Ref --> <div class="form-control"> <label for="transport-link">Link/Rif. File (opzionale):</label> <input type="text" id="transport-link" placeholder="Link prenotazione, nome file..."> </div> <div class="form-actions"> <button type="submit" id="transport-submit-btn" class="btn btn-secondary"><i class="fas fa-plus"></i> Trasporto</button> <button type="button" id="transport-cancel-edit-btn" class="btn btn-cancel" style="display: none;"><i class="fas fa-times"></i> Annulla</button> <button type="button" id="search-skyscanner-btn" class="btn btn-info btn-sm" style="display: none;"> <i class="fab fa-skyscanner"></i> Cerca Volo </button> <button type="button" id="search-trainline-btn" class="btn btn-success btn-sm" style="display: none;"> <i class="fas fa-train"></i> Cerca Treno </button> </div> </form>
                    <div class="item-list-container">
                        <div class="list-header-actions">
                           <h4>Trasporti Pianificati:</h4>
                           <!-- NUOVO: Ordinamento -->
                           <select id="transport-sort-control" class="sort-control">
                                <option value="departureDateTime">Ordina per Partenza</option>
                                <option value="type">Ordina per Tipo</option>
                                <option value="cost">Ordina per Costo</option>
                            </select>
                            <button id="add-transport-total-to-budget-btn" class="btn btn-outline btn-sm"> <i class="fas fa-calculator"></i> Agg. Totale Budget </button>
                        </div>
                        <ul id="transport-list" class="item-list"></ul>
                        <p id="no-transport-items" class="center-text muted" style="display: none;">Nessun trasporto aggiunto.</p>
                    </div>
                </div>
                <!-- Tab: Alloggio -->
                <div id="accommodation-tab" class="tab-content card">
                     <h3><i class="fas fa-bed"></i> Alloggi</h3>
                     <form id="add-accommodation-item-form" class="add-item-form"> <input type="hidden" id="edit-accommodation-item-id"> <div class="form-row"> <div class="form-control"> <label for="accommodation-name">Nome Hotel/Appartamento:</label> <input type="text" id="accommodation-name" required> </div> <div class="form-control"> <label for="accommodation-type">Tipo:</label> <select id="accommodation-type"> <option value="Hotel">Hotel</option> <option value="Appartamento">Appartamento</option> <option value="B&B">B&B</option> <option value="Ostello">Ostello</option> <option value="Casa Vacanze">Casa Vacanze</option> <option value="Altro">Altro</option> </select> </div> </div> <div class="form-control"> <label for="accommodation-address">Indirizzo:</label> <input type="text" id="accommodation-address"> </div> <div class="form-row"> <div class="form-control"> <label for="accommodation-checkin">Check-in (Data/Ora):</label> <input type="datetime-local" id="accommodation-checkin"> </div> <div class="form-control"> <label for="accommodation-checkout">Check-out (Data/Ora):</label> <input type="datetime-local" id="accommodation-checkout"> </div> </div> <div class="form-row"> <div class="form-control"> <label for="accommodation-booking-ref">Rif. Prenotazione/Contatto:</label> <input type="text" id="accommodation-booking-ref"> </div> <div class="form-control"> <label for="accommodation-cost">Costo Totale (€, opzionale):</label> <input type="number" id="accommodation-cost" step="0.01" min="0" placeholder="0.00"> </div> </div> <div class="form-control"> <label for="accommodation-notes">Note Aggiuntive:</label> <input type="text" id="accommodation-notes"> </div> <!-- NUOVO: Campo Link/File Ref --> <div class="form-control"> <label for="accommodation-link">Link/Rif. File (opzionale):</label> <input type="text" id="accommodation-link" placeholder="Link conferma, nome file..."> </div> <div class="form-actions"> <button type="submit" id="accommodation-submit-btn" class="btn btn-secondary"><i class="fas fa-plus"></i> Alloggio</button> <button type="button" id="accommodation-cancel-edit-btn" class="btn btn-cancel" style="display: none;"><i class="fas fa-times"></i> Annulla</button> </div> </form>
                     <div class="item-list-container"> <h4>Alloggi Previsti:</h4> <ul id="accommodation-list" class="item-list"></ul> <p id="no-accommodation-items" class="center-text muted" style="display: none;">Nessun alloggio.</p> </div>
                </div>
                <!-- Tab: Itinerario -->
                <div id="itinerary-tab" class="tab-content card">
                    <h3><i class="fas fa-route"></i> Itinerario</h3>
                    <form id="add-itinerary-item-form" class="add-item-form"> <input type="hidden" id="edit-itinerary-item-id"> <div class="form-row"> <div class="form-control"> <label for="itinerary-day">Giorno:</label> <input type="date" id="itinerary-day" required> </div> <div class="form-control"> <label for="itinerary-time">Ora (opzionale):</label> <input type="time" id="itinerary-time"> </div> </div> <div class="form-control"> <label for="itinerary-activity">Attività/Evento:</label> <input type="text" id="itinerary-activity" required> </div> <div class="form-control"> <label for="itinerary-location">Luogo (opzionale):</label> <input type="text" id="itinerary-location"> </div> <div class="form-row"> <div class="form-control"> <label for="itinerary-booking-ref">Rif. Prenotazione/Biglietto (opz.):</label> <input type="text" id="itinerary-booking-ref"> </div> <div class="form-control"> <label for="itinerary-cost">Costo (€, opzionale):</label> <input type="number" id="itinerary-cost" step="0.01" min="0" placeholder="0.00"> </div> </div> <div class="form-control"> <label for="itinerary-notes">Note Aggiuntive:</label> <input type="text" id="itinerary-notes"> </div> <!-- NUOVO: Campo Link/File Ref --> <div class="form-control"> <label for="itinerary-link">Link/Rif. File (opzionale):</label> <input type="text" id="itinerary-link" placeholder="Link biglietto, sito web..."> </div> <div class="form-actions"> <button type="submit" id="itinerary-submit-btn" class="btn btn-secondary"><i class="fas fa-plus"></i> Attività</button> <button type="button" id="itinerary-cancel-edit-btn" class="btn btn-cancel" style="display: none;"><i class="fas fa-times"></i> Annulla</button> </div> </form>
                    <div class="item-list-container">
                         <!-- NUOVO: Ricerca e Ordinamento -->
                         <div class="list-controls">
                            <input type="search" id="search-itinerary-input" placeholder="Cerca attività o luogo..." class="list-search-input">
                            <select id="itinerary-sort-control" class="sort-control">
                                <option value="dateTime">Ordina per Data/Ora</option>
                                <option value="activity">Ordina per Attività</option>
                            </select>
                         </div>
                        <h4>Programma:</h4>
                        <ul id="itinerary-list" class="item-list"></ul>
                        <p id="no-itinerary-items" class="center-text muted" style="display: none;">Nessun evento.</p>
                    </div>
                </div>
                <!-- Tab: Budget -->
                <div id="budget-tab" class="tab-content card">
                    <h3><i class="fas fa-coins"></i> Budget</h3>
                    <form id="add-budget-item-form" class="add-item-form"> <input type="hidden" id="edit-budget-item-id"> <div class="form-row"> <div class="form-control"> <label for="budget-category">Categoria:</label> <select id="budget-category" required> <option value="Trasporti">Trasporti</option> <option value="Alloggio">Alloggio</option> <option value="Cibo">Cibo</option> <option value="Attività">Attività</option> <option value="Shopping">Shopping</option> <option value="Altro">Altro</option> </select> </div> <div class="form-control"> <label for="budget-description">Descrizione:</label> <input type="text" id="budget-description" required> </div> </div> <div class="form-row"> <div class="form-control"> <label for="budget-estimated">Costo Stimato (€):</label> <input type="number" id="budget-estimated" step="0.01" min="0" placeholder="0.00" required> </div> <div class="form-control"> <label for="budget-actual">Costo Effettivo (€):</label> <input type="number" id="budget-actual" step="0.01" min="0" placeholder="0.00"> </div> </div> <!-- NUOVO: Suddivisione Spese --> <div class="form-row"> <div class="form-control"> <label for="budget-paid-by">Pagato da (opzionale):</label> <input type="text" id="budget-paid-by" list="participant-datalist" placeholder="Nome o 'Tutti'"> </div> <div class="form-control"> <label for="budget-split-between">Diviso tra (opzionale):</label> <input type="text" id="budget-split-between" placeholder="Nomi, 'Tutti', 'Non diviso'"> </div> </div> <div class="form-actions"> <button type="submit" id="budget-submit-btn" class="btn btn-secondary"><i class="fas fa-plus"></i> Spesa</button> <button type="button" id="budget-cancel-edit-btn" class="btn btn-cancel" style="display: none;"><i class="fas fa-times"></i> Annulla</button> </div> </form>
                    <div class="budget-summary"> <h4>Riepilogo Budget:</h4> <p>Totale Stimato: <strong id="budget-total-estimated">€ 0.00</strong></p> <p>Totale Effettivo: <strong id="budget-total-actual">€ 0.00</strong></p> <p>Differenza: <strong id="budget-difference">€ 0.00</strong></p> </div>
                    <div class="item-list-container">
                        <div class="list-header-actions">
                            <h4>Voci di Spesa:</h4>
                            <select id="budget-sort-control" class="sort-control">
                                <option value="category">Ordina per Categoria</option>
                                <option value="estimatedDesc">Ordina per Stima (Decr)</option>
                                <option value="actualDesc">Ordina per Effettivo (Decr)</option>
                                <option value="description">Ordina per Descrizione</option>
                            </select>
                        </div>
                        <ul id="budget-list" class="item-list"></ul>
                        <p id="no-budget-items" class="center-text muted" style="display: none;">Nessuna spesa.</p>
                    </div>
                </div>
                <!-- Tab: Packing List -->
                <div id="packing-tab" class="tab-content card">
                    <h3><i class="fas fa-suitcase-rolling"></i> Packing List</h3>
                    <div class="predefined-checklists"> <h4>Importa lista predefinita:</h4> <button type="button" class="btn btn-outline btn-sm" data-checklist="beach"><i class="fas fa-umbrella-beach"></i> Spiaggia</button> <button type="button" class="btn btn-outline btn-sm" data-checklist="city"><i class="fas fa-city"></i> Città</button> <button type="button" class="btn btn-outline btn-sm" data-checklist="mountain"><i class="fas fa-mountain"></i> Montagna</button> <button type="button" class="btn btn-outline btn-sm" data-checklist="camping"><i class="fas fa-campground"></i> Campeggio</button> </div>
                    <form id="add-packing-item-form" class="add-item-form">
                        <input type="hidden" id="edit-packing-item-id">
                        <div class="form-row">
                            <div class="form-control"> <label for="packing-item-name">Oggetto:</label> <input type="text" id="packing-item-name" required> </div>
                            <!-- NUOVO: Categoria e Quantità -->
                            <div class="form-control"> <label for="packing-item-category">Categoria (opzionale):</label> <input type="text" id="packing-item-category" list="packing-category-list" placeholder="Es. Vestiti, Elettronica..."> </div>
                            <div class="form-control quantity-control"> <label for="packing-item-quantity">Qtà:</label> <input type="number" id="packing-item-quantity" value="1" min="1"> </div>
                        </div>
                        <div class="form-actions"> <button type="submit" id="packing-submit-btn" class="btn btn-secondary"><i class="fas fa-plus"></i> Oggetto</button> <button type="button" id="packing-cancel-edit-btn" class="btn btn-cancel" style="display: none;"><i class="fas fa-times"></i> Annulla</button> </div>
                    </form>
                    <div class="item-list-container">
                         <div class="list-controls">
                            <input type="search" id="search-packing-input" placeholder="Cerca oggetto..." class="list-search-input">
                            <select id="packing-sort-control" class="sort-control">
                                <option value="name">Ordina per Nome</option>
                                <option value="category">Ordina per Categoria</option>
                                <option value="status">Ordina per Stato</option>
                            </select>
                         </div>
                        <h4>Checklist:</h4>
                        <ul id="packing-list" class="item-list packing-list"></ul>
                        <p id="no-packing-items" class="center-text muted" style="display: none;">Lista vuota.</p>
                    </div>
                </div>
                <!-- == FINE CONTENUTO TABS == -->
            </main>
            <div id="welcome-message" class="welcome-message card"> <h2>Benvenuto in Travel Planner Pro!</h2> <p>Seleziona un viaggio dalla lista, creane uno nuovo o parti da un template.</p> </div>
        </div>
        <footer> <p>© 2024 Travel Planner Pro</p> </footer> <!-- Aggiornato anno -->
    </div>

    <!-- Modals e Toast -->
    <div id="new-trip-modal" class="modal"> <div class="modal-content"> <span class="close-button modal-close">×</span> <h2>Nuovo Viaggio</h2> <div class="form-control"> <label for="new-trip-name-input">Nome Viaggio:</label> <input type="text" id="new-trip-name-input" required placeholder="Es. Weekend a Roma"> <p id="new-trip-modal-error" class="error-message" style="display: none;"></p> </div> <div class="modal-footer"> <button type="button" class="btn btn-secondary modal-close">Annulla</button> <button type="button" id="create-trip-confirm-btn" class="btn btn-primary">Crea Viaggio</button> </div> </div> </div>
    <!-- NUOVO: Modal Selezione Template -->
    <div id="select-template-modal" class="modal"> <div class="modal-content"> <span class="close-button modal-close">×</span> <h2>Crea da Template</h2> <div class="form-control"> <label for="template-select-input">Seleziona Template:</label> <select id="template-select-input" required></select> <p id="select-template-modal-error" class="error-message" style="display: none;"></p> </div> <div class="modal-footer"> <button type="button" class="btn btn-secondary modal-close">Annulla</button> <button type="button" id="create-from-template-confirm-btn" class="btn btn-primary">Crea Viaggio da Template</button> </div> </div> </div>
    <div id="confirmation-modal" class="modal"> <div class="modal-content"> <span class="close-button modal-close">×</span> <h2 id="confirmation-modal-title">Conferma Azione</h2> <p id="confirmation-modal-message" style="margin-bottom: 20px;">Sei sicuro?</p> <div class="modal-footer"> <button type="button" class="btn btn-secondary modal-close">Annulla</button> <button type="button" id="confirmation-modal-confirm-btn" class="btn btn-danger">Conferma</button> </div> </div> </div>
    <div id="toast-container" aria-live="polite"></div>

    <!-- Datalists per autocompletamento (popolate da JS) -->
    <datalist id="participant-datalist"></datalist>
    <datalist id="packing-category-list"></datalist>

    <script src="script.js"></script> <!-- Script Principale -->
</body>
</html>
